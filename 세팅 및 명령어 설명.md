# 🎵 Stonetify 프로젝트 셋업 가이드

## 📋 필수 사전 설치 프로그램

### 1. Node.js 설치
```bash
# Node.js 18.x 이상 버전 설치 (권장: v18.20.0 이상)
# https://nodejs.org/en/ 에서 다운로드
node --version  # 설치 확인
npm --version   # npm 확인
```

### 2. Git 설치
```bash
# https://git-scm.com/ 에서 다운로드
git --version  # 설치 확인
```

### 3. MySQL 설치
```bash
# https://dev.mysql.com/downloads/mysql/ 에서 다운로드
# 또는 XAMPP, WAMP 등 사용 가능
mysql --version  # 설치 확인
```

### 4. Expo CLI 설치
```bash
npm install -g @expo/cli
expo --version  # 설치 확인
```

## 🚀 프로젝트 클론 및 초기 셋업

### 1. 프로젝트 클론
```bash
git clone <repository-url>
cd Stonetify
```

### 2. Backend 셋업

#### 2-1. Backend 디렉토리로 이동 및 의존성 설치
```bash
cd Backend
npm install
```

#### 2-2. 환경변수 파일 생성 (.env)
```env
# Backend/.env 파일 생성 (필수!)
# 파일명: .env (확장자 없음)

PORT=5000
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=your_mysql_password
DB_NAME=stonetify_db
JWT_SECRET=your_super_secret_jwt_key_here_make_it_long_and_random
```

#### 2-3. MySQL 데이터베이스 생성
```sql
-- MySQL에 접속 후 데이터베이스 생성
CREATE DATABASE stonetify_db;
```

#### 2-4. Backend 서버 실행
```bash
# 개발 모드 (nodemon 사용)
npm run dev

# 또는 일반 실행
npm start
```

### 3. Frontend 셋업

#### 3-1. Frontend 디렉토리로 이동 및 의존성 설치
```bash
cd ../Frontend
npm install --legacy-peer-deps
```

#### 3-2. API URL 수정 (중요!)
```javascript
// Frontend/services/apiService.js 파일 수정
// 5번째 줄의 IP 주소를 본인 PC IP로 변경
const API_URL = 'http://YOUR_PC_IP:5000/api/';

// IP 주소 확인 방법:
// Windows: cmd에서 ipconfig 입력
// Mac/Linux: 터미널에서 ifconfig 입력
```

#### 3-3. Frontend 앱 실행
```bash
# 웹에서 실행
npm run web

# 모바일에서 실행 (Expo Go 앱 필요)
npm start
```

## 📱 모바일 테스트를 위한 추가 설정

### 1. Expo Go 앱 설치
- iOS: App Store에서 "Expo Go" 검색 후 설치
- Android: Google Play에서 "Expo Go" 검색 후 설치

### 2. 네트워크 설정 확인
```bash
# PC와 모바일 기기가 같은 Wi-Fi 네트워크에 연결되어 있어야 함
# 방화벽에서 5000 포트(Backend)와 19000, 19006 포트(Frontend) 허용
```

## 🔧 프로젝트 구조 및 주요 의존성

### Backend 주요 의존성
```json
{
  "express": "^4.21.2",        // 웹 서버 프레임워크
  "sequelize": "^6.37.7",      // ORM (MySQL 연결)
  "mysql2": "^3.14.3",         // MySQL 드라이버
  "jsonwebtoken": "^9.0.2",    // JWT 인증
  "bcrypt": "^5.1.1",          // 패스워드 암호화
  "cors": "^2.8.5",            // CORS 설정
  "dotenv": "^16.6.1",         // 환경변수 관리
  "nodemon": "^3.1.10"         // 개발용 서버 자동 재시작
}
```

### Frontend 주요 의존성
```json
{
  "expo": "53.0.22",                     // Expo SDK
  "react": "19.0.0",                     // React
  "react-native": "0.79.5",              // React Native
  "@react-navigation/native": "^6.1.18", // 네비게이션
  "@react-navigation/stack": "^6.4.1",   // 스택 네비게이션
  "@react-navigation/bottom-tabs": "^6.6.1", // 탭 네비게이션
  "@reduxjs/toolkit": "^2.8.2",          // 상태관리
  "axios": "^1.4.0",                     // HTTP 클라이언트
  "expo-image": "~2.4.0",                // 이미지 컴포넌트
  "@expo/webpack-config": "^18.1.4"      // 웹팩 설정
}
```

## ⚠️ 주의사항 및 트러블슈팅

### 1. 환경변수 파일 (.env) 누락
```bash
# Backend/.env 파일이 없으면 데이터베이스 연결 실패
# 위의 2-2 단계 참조하여 반드시 생성
# 파일명 주의: .env (점으로 시작, 확장자 없음)
```

### 2. IP 주소 불일치
```bash
# Frontend에서 Backend API 호출 실패 시
# apiService.js의 API_URL을 본인 PC IP로 수정
# 예: const API_URL = 'http://192.168.1.100:5000/api/';
```

### 3. MySQL 연결 오류
```bash
# MySQL 서비스가 실행 중인지 확인
# Windows: services.msc에서 MySQL 서비스 확인
# Mac: brew services start mysql
# Linux: sudo systemctl start mysql
```

### 4. 포트 충돌
```bash
# 5000 포트가 이미 사용 중인 경우
# .env 파일에서 PORT를 다른 번호로 변경 (예: PORT=3001)
# Frontend의 apiService.js에서도 같은 포트로 수정
```

### 5. React Navigation 호환성 이슈
```bash
# React Navigation 7.x 대신 6.x 버전 사용
# package.json에 명시된 버전 그대로 설치
npm install --legacy-peer-deps  # 의존성 충돌 해결
```

### 6. Expo SDK 53 관련 이슈
```bash
# React 19와 React Native 0.79.5 사용
# 모든 패키지가 최신 SDK에 맞춰 업데이트됨
# 기존 프로젝트에서 업그레이드된 상태
```

## 🎯 실행 순서 요약

### 완전히 새로운 PC에서 시작하는 경우:

1. **사전 프로그램 설치**
   - Node.js 18.x 이상
   - Git
   - MySQL (또는 XAMPP)
   - Expo CLI

2. **프로젝트 복사**
   ```bash
   git clone <repository-url>
   cd Stonetify
   ```

3. **Backend 설정**
   ```bash
   cd Backend
   npm install
   # .env 파일 생성 (위 내용 참조)
   # MySQL에서 stonetify_db 데이터베이스 생성
   npm run dev
   ```

4. **Frontend 설정**
   ```bash
   cd ../Frontend
   npm install --legacy-peer-deps
   # apiService.js에서 IP 주소 수정
   npm run web  # 웹에서 실행
   # 또는 npm start  # 모바일에서 실행
   ```

5. **접속 확인**
   - 웹: http://localhost:19006
   - 모바일: Expo Go 앱에서 QR 코드 스캔

## 📁 프로젝트 폴더 구조

```
Stonetify/
├── Backend/
│   ├── config/
│   │   └── db.js
│   ├── controllers/
│   ├── middleware/
│   ├── models/
│   ├── routes/
│   ├── .env (생성 필요)
│   ├── app.js
│   └── package.json
├── Frontend/
│   ├── assets/
│   ├── components/
│   ├── navigation/
│   ├── screens/
│   ├── services/
│   │   └── apiService.js (IP 수정 필요)
│   ├── store/
│   └── package.json
└── PROJECT_SETUP_GUIDE.md (이 파일)
```

## 📞 문제 해결이 필요한 경우

### Backend 오류 확인
```bash
# Backend 터미널에서 오류 메시지 확인
# 주요 확인 사항:
# - MySQL 서비스 실행 여부
# - .env 파일 존재 여부
# - 데이터베이스 생성 여부
# - 포트 충돌 여부
```

### Frontend 오류 확인
```bash
# 브라우저 개발자 도구 Console 탭에서 오류 확인
# 주요 확인 사항:
# - API_URL IP 주소 정확성
# - Backend 서버 실행 여부
# - 네트워크 연결 상태
```

### 네트워크 문제
```bash
# PC와 모바일이 같은 Wi-Fi 사용 확인
# 방화벽 설정 확인
# IP 주소 변경 시 apiService.js도 함께 수정
```

## 🔧 개발 환경 정보

- **Expo SDK**: 53.0.22
- **React**: 19.0.0
- **React Native**: 0.79.5
- **React Navigation**: 6.x (호환성 최적화)
- **Redux Toolkit**: 2.8.2
- **Node.js**: 18.x 이상 권장
- **MySQL**: 8.0 이상 권장

---

## 🎵 Stonetify 주요 기능

### 🔐 사용자 인증
- 회원가입 및 로그인
- JWT 토큰 기반 인증
- 사용자 프로필 관리

### 🎶 플레이리스트 기능
- 플레이리스트 생성, 수정, 삭제
- 곡 추가/제거
- 플레이리스트 좋아요
- 공개/비공개 설정

### 🔍 검색 기능
- Spotify API 연동 음악 검색
- 검색 히스토리 저장
- 인기 검색어 표시
- Debounce를 이용한 실시간 검색

### 🎧 고급 플레이어
- 음악 재생/일시정지/정지
- 볼륨 조절
- 재생 위치 조절
- 반복/셔플 모드
- 고품질 앨범 아트 표시

### 📤 공유 기능
- QR 코드 생성
- 다양한 플랫폼 공유 (SNS, 메신저)
- 공유 통계 추적
- 링크 복사 기능

### 🔔 알림 시스템
- 실시간 알림
- 좋아요, 팔로우, 공유 알림
- 읽음/안읽음 상태 관리
- 알림 히스토리

### 🎯 추천 시스템
- 개인화된 플레이리스트 추천
- 인기 플레이리스트
- 트렌딩 플레이리스트
- 유사 취향 사용자 추천

### 👥 소셜 기능
- 사용자 팔로우/언팔로우
- 게시물 작성 및 좋아요
- 플레이리스트 공유
- 사용자 프로필 조회

### 📊 통계 및 분석
- 플레이리스트 조회수
- 공유 통계
- 인기도 분석
- 사용자 활동 추적

---

이 가이드를 따라하면 새로운 PC에서도 동일한 개발 환경을 구축할 수 있습니다! 🚀

문제가 발생하면 각 단계를 천천히 다시 확인해보시고, 오류 메시지를 자세히 읽어보세요.
